services:
  - type: web
    name: web-yarden
    env: node
    plan: starter
    buildCommand: npm ci && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: NEXT_TELEMETRY_DISABLED
        value: 1
      - key: NEXT_PUBLIC_GA_ID
        fromGroup: web-yarden-env
      - key: NEXT_PUBLIC_EMAILJS_SERVICE_ID
        fromGroup: web-yarden-env
      - key: NEXT_PUBLIC_EMAILJS_TEMPLATE_ID
        fromGroup: web-yarden-env
      - key: NEXT_PUBLIC_EMAILJS_PUBLIC_KEY
        fromGroup: web-yarden-env
      - key: NEXT_PUBLIC_SITE_URL
        fromGroup: web-yarden-env
      - key: NEXT_PUBLIC_CONTACT_EMAIL
        fromGroup: web-yarden-env
      - key: NEXT_PUBLIC_CONTACT_PHONE
        fromGroup: web-yarden-env
      - key: NEXT_PUBLIC_FACEBOOK_URL
        fromGroup: web-yarden-env
      - key: NEXT_PUBLIC_INSTAGRAM_URL
        fromGroup: web-yarden-env
      - key: NEXT_PUBLIC_LINKEDIN_URL
        fromGroup: web-yarden-env
      - key: NEXT_PUBLIC_WHATSAPP_NUMBER
        fromGroup: web-yarden-env
    domains:
      - webyarden.co.il
    healthCheckPath: /
    autoDeploy: true
    branch: main

envVarGroups:
  - name: web-yarden-env
    envVars:
      - key: NEXT_PUBLIC_GA_ID
        value: G-XXXXXXXXXX
      - key: NEXT_PUBLIC_EMAILJS_SERVICE_ID
        value: service_webyarden
      - key: NEXT_PUBLIC_EMAILJS_TEMPLATE_ID
        value: template_quote
      - key: NEXT_PUBLIC_EMAILJS_PUBLIC_KEY
        value: your_emailjs_public_key
      - key: NEXT_PUBLIC_SITE_URL
        value: https://webyarden.co.il
      - key: NEXT_PUBLIC_CONTACT_EMAIL
        value: webyarden@gmail.com
      - key: NEXT_PUBLIC_CONTACT_PHONE
        value: +972533700551
      - key: NEXT_PUBLIC_FACEBOOK_URL
        value: https://facebook.com/webyarden
      - key: NEXT_PUBLIC_INSTAGRAM_URL
        value: https://instagram.com/webyarden
      - key: NEXT_PUBLIC_LINKEDIN_URL
        value: https://linkedin.com/company/webyarden
      - key: NEXT_PUBLIC_WHATSAPP_NUMBER
        value: 972533700551
